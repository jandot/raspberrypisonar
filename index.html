<!DOCTYPE html>
<html lang="en">
<head>
	<title>D3 primer</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<style type="text/css">
        .plot1 {
            fill: green;
            opacity: 0.1;
        }
        .plot2 {
            fill: blue;
            opacity: 0.1;
        }
        
    </style>

</head>

<body>
	<script>
        var w = 800;
        var h = 400;
        var svg = d3.select("body")
                    .append("svg")
                    .attr("width", w)
                    .attr("height", h)

        var xPlot1 = function(daynumber,hour,minute) {
            return (273-parseInt(daynumber))*720+(parseInt(hour) - 8)*60 + parseInt(minute)
        }

        var xPlot2 = function(hour,minute) {
            return (parseInt(hour) - 8)*60 + parseInt(minute)
        }
        
        d3.csv("distance_log.csv", function(d) {
            var plot1 = svg.selectAll(".plot1")
                       .data(d)
                       .enter()
                       .append("circle")
                         .attr("r", 3)
                         .attr("cx", function(d,i) { return 50+xPlot1(d.daynumber,d.hour,d.minute) })
                         .attr("cy", function(d) { return h-50-d.distance })
                         .attr("class","plot1")              
            var plot2 = svg.selectAll(".plot2")
                       .data(d)
                       .enter()
                       .append("circle")
                         .attr("r", 3)
                         .attr("cx", function(d,i) { return 50+xPlot2(d.hour,d.minute) })
                         .attr("cy", function(d) { return h-200-d.distance })
                         .attr("class","plot2")              

        })
	</script>
	
</body>

</html>
